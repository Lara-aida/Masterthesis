across(where(is.numeric), ~ round(.x, 4))
)
anova_ac <- anova_ac[, c(1, 3, 4, 5, 6, 7, 2, 8, 9, 11, 12, 10)]
anova_di <- data_frame(
DI01 = c("CoT", "RAG", "CoT:RAG", "Residual")
)
anova_di <- bind_cols(anova_di, pooled_anova_fit_di)
anova_di <- anova_di[, c(1, 3, 4, 5, 6, 7, 2, 8, 9, 10)]
anova_di <- anova_di %>%
mutate(
f2 = c(pooled_anova_fit_di_f2[1], pooled_anova_fit_di_f2[2], pooled_anova_fit_di_f2[3], 0),
power = c(pooled_anova_fit_di_power_CoT$power, pooled_anova_fit_di_power_RAG$power, pooled_anova_fit_di_power_CoTxRAG$power, 0)
) %>%
mutate(
across(where(is.numeric), ~ round(.x, 4))
)
anova_di <- anova_di[, c(1, 3, 4, 5, 6, 7, 2, 8, 9, 11, 12, 10)]
anova_ui <- data_frame(
UI01 = c("CoT", "RAG", "CoT:RAG", "Residual")
)
anova_ui <- bind_cols(anova_ui, pooled_anova_fit_ui)
anova_ui <- anova_ui[, c(1, 3, 4, 5, 6, 7, 2, 8, 9, 10)]
anova_ex <- data_frame(
EX01 = c("CoT", "RAG", "CoT:RAG", "Residual")
)
anova_ex <- bind_cols(anova_ex, pooled_anova_fit_ex)
anova_ex <- anova_ex[, c(1, 3, 4, 5, 6, 7, 2, 8, 9, 10)]
anova_ac
anova_di
anova_ui
anova_ex
# Summary tables
# Final table for accountability
anova_ac <- data_frame(
AC01 = c("CoT", "RAG", "CoT:RAG", "Residual")
)
anova_ac <- bind_cols(anova_ac, pooled_anova_fit_ac)
anova_ac <- anova_ac %>%
mutate(
f2 = c(pooled_anova_fit_ac_f2[1], pooled_anova_fit_ac_f2[2], pooled_anova_fit_ac_f2[3], 0),
power = c(pooled_anova_fit_ac_power_CoT$power, pooled_anova_fit_ac_power_RAG$power, pooled_anova_fit_ac_power_CoTxRAG$power, 0)
) %>%
mutate(
across(where(is.numeric), ~ round(.x, 4))
)
anova_ac <- anova_ac[, c(1, 3, 4, 5, 6, 7, 2, 8, 9, 11, 12, 10)]
# Final table for disclosure
anova_di <- data_frame(
DI01 = c("CoT", "RAG", "CoT:RAG", "Residual")
)
anova_di <- bind_cols(anova_di, pooled_anova_fit_di)
anova_di <- anova_di %>%
mutate(
f2 = c(pooled_anova_fit_di_f2[1], pooled_anova_fit_di_f2[2], pooled_anova_fit_di_f2[3], 0),
power = c(pooled_anova_fit_di_power_CoT$power, pooled_anova_fit_di_power_RAG$power, pooled_anova_fit_di_power_CoTxRAG$power, 0)
) %>%
mutate(
across(where(is.numeric), ~ round(.x, 4))
)
anova_di <- anova_di[, c(1, 3, 4, 5, 6, 7, 2, 8, 9, 11, 12, 10)]
# Final table for usefulness of information
anova_ui <- data_frame(
UI01 = c("CoT", "RAG", "CoT:RAG", "Residual")
)
anova_ui <- bind_cols(anova_ui, pooled_anova_fit_ui)
anova_ui <- anova_ui %>%
mutate(
f2 = c(pooled_anova_fit_ui_f2[1], pooled_anova_fit_ui_f2[2], pooled_anova_fit_ui_f2[3], 0),
power = c(pooled_anova_fit_ui_power_CoT$power, pooled_anova_fit_ui_power_RAG$power, pooled_anova_fit_ui_power_CoTxRAG$power, 0)
) %>%
mutate(
across(where(is.numeric), ~ round(.x, 4))
)
anova_ui <- anova_ui[, c(1, 3, 4, 5, 6, 7, 2, 8, 9, 11, 12, 10)]
anova_ex <- data_frame(
EX01 = c("CoT", "RAG", "CoT:RAG", "Residual")
)
anova_ex <- bind_cols(anova_ex, pooled_anova_fit_ex)
anova_ex <- anova_ex[, c(1, 3, 4, 5, 6, 7, 2, 8, 9, 10)]
anova_ac
anova_di
anova_ui
anova_ex
# Summary tables
# Final table for accountability
anova_ac <- data_frame(
AC01 = c("CoT", "RAG", "CoT:RAG", "Residual")
)
anova_ac <- bind_cols(anova_ac, pooled_anova_fit_ac)
anova_ac <- anova_ac %>%
mutate(
f2 = c(pooled_anova_fit_ac_f2[1], pooled_anova_fit_ac_f2[2], pooled_anova_fit_ac_f2[3], 0),
power = c(pooled_anova_fit_ac_power_CoT$power, pooled_anova_fit_ac_power_RAG$power, pooled_anova_fit_ac_power_CoTxRAG$power, 0)
) %>%
mutate(
across(where(is.numeric), ~ round(.x, 4))
)
anova_ac <- anova_ac[, c(1, 3, 4, 5, 6, 7, 2, 8, 9, 11, 12, 10)]
# Final table for disclosure
anova_di <- data_frame(
DI01 = c("CoT", "RAG", "CoT:RAG", "Residual")
)
anova_di <- bind_cols(anova_di, pooled_anova_fit_di)
anova_di <- anova_di %>%
mutate(
f2 = c(pooled_anova_fit_di_f2[1], pooled_anova_fit_di_f2[2], pooled_anova_fit_di_f2[3], 0),
power = c(pooled_anova_fit_di_power_CoT$power, pooled_anova_fit_di_power_RAG$power, pooled_anova_fit_di_power_CoTxRAG$power, 0)
) %>%
mutate(
across(where(is.numeric), ~ round(.x, 4))
)
anova_di <- anova_di[, c(1, 3, 4, 5, 6, 7, 2, 8, 9, 11, 12, 10)]
# Final table for usefulness of information
anova_ui <- data_frame(
UI01 = c("CoT", "RAG", "CoT:RAG", "Residual")
)
anova_ui <- bind_cols(anova_ui, pooled_anova_fit_ui)
anova_ui <- anova_ui %>%
mutate(
f2 = c(pooled_anova_fit_ui_f2[1], pooled_anova_fit_ui_f2[2], pooled_anova_fit_ui_f2[3], 0),
power = c(pooled_anova_fit_ui_power_CoT$power, pooled_anova_fit_ui_power_RAG$power, pooled_anova_fit_ui_power_CoTxRAG$power, 0)
) %>%
mutate(
across(where(is.numeric), ~ round(.x, 4))
)
anova_ui <- anova_ui[, c(1, 3, 4, 5, 6, 7, 2, 8, 9, 11, 12, 10)]
# Final table for explainability
anova_ex <- data_frame(
EX01 = c("CoT", "RAG", "CoT:RAG", "Residual")
)
anova_ex <- bind_cols(anova_ex, pooled_anova_fit_ex)
anova_ex <- anova_ex %>%
mutate(
f2 = c(pooled_anova_fit_ex_f2[1], pooled_anova_fit_ex_f2[2], pooled_anova_fit_ex_f2[3], 0),
power = c(pooled_anova_fit_ex_power_CoT$power, pooled_anova_fit_ex_power_RAG$power, pooled_anova_fit_ex_power_CoTxRAG$power, 0)
) %>%
mutate(
across(where(is.numeric), ~ round(.x, 4))
)
anova_ex <- anova_ex[, c(1, 3, 4, 5, 6, 7, 2, 8, 9, 11, 12, 10)]
anova_ac
anova_di
anova_ui
anova_ex
xtable::xtable(anova_fit_list_ac, type = "latex")
anova_list_ac <- as.data.frame(anova_fit_list_ac)
anova_list_ac <- as.data.frame(summary(anova_fit_list_ac))
anova_list_ac
#xtable::xtable(anova_fit_list_ac, type = "latex")
anova_list_ac <- as.data.frame(summary(anova_fit_list_ac))
anova_list_ac
xtable::xtable(anova_list_ac, type = "latex")
anova_list_di <- as.data.frame(summary(anova_fit_list_di))
anova_list_di
xtable::xtable(anova_list_di, type = "latex")
anova_list_ui <- as.data.frame(summary(anova_fit_list_ui))
anova_list_ui
xtable::xtable(anova_list_ui, type = "latex")
anova_list_ex <- as.data.frame(summary(anova_fit_list_ex))
anova_list_ex
xtable::xtable(anova_list_ex, type = "latex")
xtable::xtable(anova_ac, type = "latex")
xtable::xtable(anova_di, type = "latex")
xtable::xtable(anova_ui, type = "latex")
xtable::xtable(anova_ex, type = "latex")
employment_labels <- c("Pupil", "In Training", "Student", "Employee", "Civil Servant", "Self-Employed", "Pensioner")
employment <- socio_demographics %>%
sort_by(socio_demographics$employment) %>%
mutate(employment = factor(employment, labels = employment_labels)) %>%
group_by(employment) %>%
summarise(absolute_count = n()
) %>%
mutate(relative_share_percent= round(100 * absolute_count / sum(absolute_count), 2))
library(tidyverse)
library(broom)
library(ggplot2)
library(dplyr)
getwd()
raw_data <- readxl::read_excel("data/raw_data.xlsx", sheet = 2)
view(raw_data)
glimpse(raw_data)
socio_demographics <- raw_data[, c("SD01", "SD02", "SD04", "SD04_14", "SD05")]
socio_demographics <- rename(socio_demographics, sex = SD01, age_group_years = SD02, degree = SD04, degree_special = SD04_14, employment = SD05)
socio_demographics <- socio_demographics %>%
mutate(
sex = factor(sex,
labels = c("Female", "Male")),
)
glimpse(socio_demographics)
sex <- socio_demographics %>%
group_by(sex) %>%
summarise(
absolute_count = n()
) %>%
mutate(relative_share_percent = round(100 * absolute_count / sum(absolute_count), 0)
)
glimpse(sex)
age_group_labels <- c("<18", "19-24", "25-29", "30-34", "35-39", "40-44", "45-49", "50-54", "55-59", "60-64", ">65")
age <- socio_demographics %>%
sort_by(socio_demographics$age_group_years) %>%
mutate(age_group_years = factor(age_group_years, labels = age_group_labels))
ggplot(data = age, aes(x=age_group_years)) + geom_bar(fill=rgb(0.1,0.4,0.5,1))
glimpse(age)
age_group_labels <- c("<18", "19-24", "25-29", "30-34", "35-39", "40-44", "45-49", "50-54", "55-59", "60-64", ">65")
age <- socio_demographics %>%
sort_by(socio_demographics$age_group_years) %>%
mutate(age_group_years = factor(age_group_years, labels = age_group_labels)) %>%
group_by(age_group_years) %>%
summarise(absolute_count = n()
) %>%
mutate(relative_share_percent= round(100 * absolute_count / sum(absolute_count), 2))
view(age)
degree_labels <- c("School-Student", "German: Hauptschule", "German: Mittlere Reife", "German: Ausbildungsabschluss", "Technical High School Diploma", "High School Diploma", "Bachelor Professional", "Master Craftsman", "Bachelor's", "Master's", "Diploma", "Doctorate", "Else")
degree <- socio_demographics %>%
sort_by(socio_demographics$degree) %>%
mutate(degree = factor(degree, labels = degree_labels))
ggplot(data = degree, aes(x=degree)) + geom_bar(fill=rgb(0.1,0.4,0.5,1)) +
coord_flip()
glimpse(degree)
degree_labels <- c("School-Student", "German: Hauptschule", "German: Mittlere Reife", "German: Ausbildungsabschluss", "Technical High School Diploma", "High School Diploma", "Bachelor Professional", "Master Craftsman", "Bachelor's", "Master's", "Diploma", "Doctorate", "Else")
degree <- socio_demographics %>%
sort_by(socio_demographics$degree) %>%
mutate(degree = factor(degree, labels = degree_labels)) %>%
group_by(degree) %>%
summarise(
absolute_count = n(),
degree_special = if (first(degree) == "Else") {
paste(sort(degree_special), collapse = ", ")
} else {
""
}
) %>%
mutate(relative_share_percent = round(100 * absolute_count / sum(absolute_count), 2))
view(degree)
employment_labels <- c("Pupil", "In Training", "Student", "Employee", "Civil Servant", "Self-Employed", "Pensioner")
employment <- socio_demographics %>%
sort_by(socio_demographics$employment) %>%
mutate(employment = factor(employment, labels = employment_labels))
ggplot(data = employment, aes(x=employment)) + geom_bar(fill=rgb(0.1,0.4,0.5,1)) + coord_flip()
view(employment)
employment_labels <- c("Pupil", "In Training", "Student", "Employee", "Civil Servant", "Self-Employed", "Pensioner")
employment <- socio_demographics %>%
sort_by(socio_demographics$employment) %>%
mutate(employment = factor(employment, labels = employment_labels)) %>%
group_by(employment) %>%
summarise(absolute_count = n()
) %>%
mutate(relative_share_percent= round(100 * absolute_count / sum(absolute_count), 2))
view(employment)
employment_labels <- c("Pupil", "In Training", "Student", "Employee", "Civil Servant", "Self-Employed", "Pensioner")
employment <- socio_demographics %>%
sort_by(socio_demographics$employment) %>%
mutate(employment = factor(employment, labels = employment_labels)) %>%
group_by(employment) %>%
summarise(absolute_count = n()
) %>%
mutate(relative_share_percent= round(100 * absolute_count / sum(absolute_count), 2))
view(employment)
employment_labels <- c("Pupil", "In Training", "Student", "Employee", "Civil Servant", "Self-Employed", "Pensioner")
employment <- socio_demographics %>%
sort_by(socio_demographics$employment) %>%
mutate(employment = factor(employment, labels = employment_labels)) %>%
group_by(employment) %>%
summarise(absolute_count = n()
) %>%
mutate(relative_share_percent= round(100 * absolute_count / sum(absolute_count), 2))
view(employment)
sex <- socio_demographics %>%
group_by(sex) %>%
summarise(
absolute_count = n()
) %>%
mutate(relative_share_percent = round(100 * absolute_count / sum(absolute_count), 0)
)
library(tidyverse)
library(broom)
library(ggplot2)
library(dplyr)
getwd()
raw_data <- readxl::read_excel("data/raw_data.xlsx", sheet = 2)
glimpse(raw_data)
getwd()
raw_data <- readxl::read_excel("data/raw_data.xlsx", sheet = 2)
raw_data
getwd()
raw_data <- readxl::read_excel("data/raw_data.xlsx", sheet = 2)
glimpse(raw_data)
socio_demographics <- raw_data[, c("SD01", "SD02", "SD04", "SD04_14", "SD05")]
socio_demographics <- rename(socio_demographics, sex = SD01, age_group_years = SD02, degree = SD04, degree_special = SD04_14, employment = SD05)
socio_demographics <- socio_demographics %>%
mutate(
sex = factor(sex,
labels = c("Female", "Male")),
)
glimpse(socio_demographics)
sex <- socio_demographics %>%
group_by(sex) %>%
summarise(
absolute_count = n()
) %>%
mutate(relative_share_percent = round(100 * absolute_count / sum(absolute_count), 0)
)
sex
age_group_labels <- c("<18", "19-24", "25-29", "30-34", "35-39", "40-44", "45-49", "50-54", "55-59", "60-64", ">65")
age <- socio_demographics %>%
sort_by(socio_demographics$age_group_years) %>%
mutate(age_group_years = factor(age_group_years, labels = age_group_labels))
ggplot(data = age, aes(x=age_group_years)) + geom_bar(fill=rgb(0.1,0.4,0.5,1))
glimpse(age)
age_group_labels <- c("<18", "19-24", "25-29", "30-34", "35-39", "40-44", "45-49", "50-54", "55-59", "60-64", ">65")
age <- socio_demographics %>%
sort_by(socio_demographics$age_group_years) %>%
mutate(age_group_years = factor(age_group_years, labels = age_group_labels))
ggplot(data = age, aes(x=age_group_years)) + geom_bar(fill=rgb(0.1,0.4,0.5,1))
age
age_group_labels <- c("<18", "19-24", "25-29", "30-34", "35-39", "40-44", "45-49", "50-54", "55-59", "60-64", ">65")
age <- socio_demographics %>%
sort_by(socio_demographics$age_group_years) %>%
mutate(age_group_years = factor(age_group_years, labels = age_group_labels))
ggplot(data = age, aes(x=age_group_years)) + geom_bar(fill=rgb(0.1,0.4,0.5,1))
age_group_labels <- c("<18", "19-24", "25-29", "30-34", "35-39", "40-44", "45-49", "50-54", "55-59", "60-64", ">65")
age <- socio_demographics %>%
sort_by(socio_demographics$age_group_years) %>%
mutate(age_group_years = factor(age_group_years, labels = age_group_labels)) %>%
group_by(age_group_years) %>%
summarise(absolute_count = n()
) %>%
mutate(relative_share_percent= round(100 * absolute_count / sum(absolute_count), 2))
age
age_group_labels <- c("<18", "19-24", "25-29", "30-34", "35-39", "40-44", "45-49", "50-54", "55-59", "60-64", ">65")
age <- socio_demographics %>%
sort_by(socio_demographics$age_group_years) %>%
mutate(age_group_years = factor(age_group_years, labels = age_group_labels)) %>%
group_by(age_group_years) %>%
summarise(absolute_count = n()
) %>%
mutate(relative_share_percent= round(100 * absolute_count / sum(absolute_count), 2))
summary(age)
age_group_labels <- c("<18", "19-24", "25-29", "30-34", "35-39", "40-44", "45-49", "50-54", "55-59", "60-64", ">65")
age <- socio_demographics %>%
sort_by(socio_demographics$age_group_years) %>%
mutate(age_group_years = factor(age_group_years, labels = age_group_labels)) %>%
group_by(age_group_years) %>%
summarise(absolute_count = n()
) %>%
mutate(relative_share_percent= round(100 * absolute_count / sum(absolute_count), 2))
age
age_group_labels <- c("<18", "19-24", "25-29", "30-34", "35-39", "40-44", "45-49", "50-54", "55-59", "60-64", ">65")
age <- socio_demographics %>%
sort_by(socio_demographics$age_group_years) %>%
mutate(age_group_years = factor(age_group_years, labels = age_group_labels)) %>%
group_by(age_group_years) %>%
summarise(absolute_count = n()
) %>%
mutate(relative_share_percent= round(100 * absolute_count / sum(absolute_count), 2))
print.data.frame(age)
degree_labels <- c("School-Student", "German: Hauptschule", "German: Mittlere Reife", "German: Ausbildungsabschluss", "Technical High School Diploma", "High School Diploma", "Bachelor Professional", "Master Craftsman", "Bachelor's", "Master's", "Diploma", "Doctorate", "Else")
degree <- socio_demographics %>%
sort_by(socio_demographics$degree) %>%
mutate(degree = factor(degree, labels = degree_labels))
ggplot(data = degree, aes(x=degree)) + geom_bar(fill=rgb(0.1,0.4,0.5,1)) +
coord_flip()
degree_labels <- c("School-Student", "German: Hauptschule", "German: Mittlere Reife", "German: Ausbildungsabschluss", "Technical High School Diploma", "High School Diploma", "Bachelor Professional", "Master Craftsman", "Bachelor's", "Master's", "Diploma", "Doctorate", "Else")
degree <- socio_demographics %>%
sort_by(socio_demographics$degree) %>%
mutate(degree = factor(degree, labels = degree_labels)) %>%
group_by(degree) %>%
summarise(
absolute_count = n(),
degree_special = if (first(degree) == "Else") {
paste(sort(degree_special), collapse = ", ")
} else {
""
}
) %>%
mutate(relative_share_percent = round(100 * absolute_count / sum(absolute_count), 2))
degree
degree_labels <- c("School-Student", "German: Hauptschule", "German: Mittlere Reife", "German: Ausbildungsabschluss", "Technical High School Diploma", "High School Diploma", "Bachelor Professional", "Master Craftsman", "Bachelor's", "Master's", "Diploma", "Doctorate", "Else")
degree <- socio_demographics %>%
sort_by(socio_demographics$degree) %>%
mutate(degree = factor(degree, labels = degree_labels)) %>%
group_by(degree) %>%
summarise(
absolute_count = n(),
degree_special = if (first(degree) == "Else") {
paste(sort(degree_special), collapse = ", ")
} else {
""
}
) %>%
mutate(relative_share_percent = round(100 * absolute_count / sum(absolute_count), 2))
print.data.frame(degree)
degree_labels <- c("School-Student", "German: Hauptschule", "German: Mittlere Reife", "German: Ausbildungsabschluss", "Technical High School Diploma", "High School Diploma", "Bachelor Professional", "Master Craftsman", "Bachelor's", "Master's", "Diploma", "Doctorate", "Else")
degree <- socio_demographics %>%
sort_by(socio_demographics$degree) %>%
mutate(degree = factor(degree, labels = degree_labels)) %>%
group_by(degree) %>%
summarise(
absolute_count = n(),
degree_special = if (first(degree) == "Else") {
paste(sort(degree_special), collapse = ", ")
} else {
""
}
) %>%
mutate(relative_share_percent = round(100 * absolute_count / sum(absolute_count), 2))
degree
degree_labels <- c("School-Student", "German: Hauptschule", "German: Mittlere Reife", "German: Ausbildungsabschluss", "Technical High School Diploma", "High School Diploma", "Bachelor Professional", "Master Craftsman", "Bachelor's", "Master's", "Diploma", "Doctorate", "Else")
degree <- socio_demographics %>%
sort_by(socio_demographics$degree) %>%
mutate(degree = factor(degree, labels = degree_labels)) %>%
group_by(degree) %>%
summarise(
absolute_count = n(),
degree_special = if (first(degree) == "Else") {
paste(sort(degree_special), collapse = ", ")
} else {
""
}
) %>%
mutate(relative_share_percent = round(100 * absolute_count / sum(absolute_count), 2))
options(tibble.print_max = Inf)
degree
degree_labels <- c("School-Student", "German: Hauptschule", "German: Mittlere Reife", "German: Ausbildungsabschluss", "Technical High School Diploma", "High School Diploma", "Bachelor Professional", "Master Craftsman", "Bachelor's", "Master's", "Diploma", "Doctorate", "Else")
degree <- socio_demographics %>%
sort_by(socio_demographics$degree) %>%
mutate(degree = factor(degree, labels = degree_labels)) %>%
group_by(degree) %>%
summarise(
absolute_count = n(),
degree_special = if (first(degree) == "Else") {
paste(sort(degree_special), collapse = ", ")
} else {
""
}
) %>%
mutate(relative_share_percent = round(100 * absolute_count / sum(absolute_count), 2))
print(degree, n = 13)
degree_labels <- c("School-Student", "German: Hauptschule", "German: Mittlere Reife", "German: Ausbildungsabschluss", "Technical High School Diploma", "High School Diploma", "Bachelor Professional", "Master Craftsman", "Bachelor's", "Master's", "Diploma", "Doctorate", "Else")
degree <- socio_demographics %>%
sort_by(socio_demographics$degree) %>%
mutate(degree = factor(degree, labels = degree_labels)) %>%
group_by(degree) %>%
summarise(
absolute_count = n(),
degree_special = if (first(degree) == "Else") {
paste(sort(degree_special), collapse = ", ")
} else {
""
}
) %>%
mutate(relative_share_percent = round(100 * absolute_count / sum(absolute_count), 2))
head(data.frame(degree), 13)
degree_labels <- c("School-Student", "German: Hauptschule", "German: Mittlere Reife", "German: Ausbildungsabschluss", "Technical High School Diploma", "High School Diploma", "Bachelor Professional", "Master Craftsman", "Bachelor's", "Master's", "Diploma", "Doctorate", "Else")
degree <- socio_demographics %>%
sort_by(socio_demographics$degree) %>%
mutate(degree = factor(degree, labels = degree_labels)) %>%
group_by(degree) %>%
summarise(
absolute_count = n(),
degree_special = if (first(degree) == "Else") {
paste(sort(degree_special), collapse = ", ")
} else {
""
}
) %>%
mutate(relative_share_percent = round(100 * absolute_count / sum(absolute_count), 2))
print(degree %>% as_tibble(), n_extra = 200)
degree_labels <- c("School-Student", "German: Hauptschule", "German: Mittlere Reife", "German: Ausbildungsabschluss", "Technical High School Diploma", "High School Diploma", "Bachelor Professional", "Master Craftsman", "Bachelor's", "Master's", "Diploma", "Doctorate", "Else")
degree <- socio_demographics %>%
sort_by(socio_demographics$degree) %>%
mutate(degree = factor(degree, labels = degree_labels)) %>%
group_by(degree) %>%
summarise(
absolute_count = n(),
degree_special = if (first(degree) == "Else") {
paste(sort(degree_special), collapse = ", ")
} else {
""
}
) %>%
mutate(relative_share_percent = round(100 * absolute_count / sum(absolute_count), 2))
glimpse(degree)
degree_labels <- c("School-Student", "German: Hauptschule", "German: Mittlere Reife", "German: Ausbildungsabschluss", "Technical High School Diploma", "High School Diploma", "Bachelor Professional", "Master Craftsman", "Bachelor's", "Master's", "Diploma", "Doctorate", "Else")
degree <- socio_demographics %>%
sort_by(socio_demographics$degree) %>%
mutate(degree = factor(degree, labels = degree_labels)) %>%
group_by(degree) %>%
summarise(
absolute_count = n(),
degree_special = if (first(degree) == "Else") {
paste(sort(degree_special), collapse = ", ")
} else {
""
}
) %>%
mutate(relative_share_percent = round(100 * absolute_count / sum(absolute_count), 2))
print.data.frame(degree)
employment_labels <- c("Pupil", "In Training", "Student", "Employee", "Civil Servant", "Self-Employed", "Pensioner")
employment <- socio_demographics %>%
sort_by(socio_demographics$employment) %>%
mutate(employment = factor(employment, labels = employment_labels))
ggplot(data = employment, aes(x=employment)) + geom_bar(fill=rgb(0.1,0.4,0.5,1)) + coord_flip()
employment_labels <- c("Pupil", "In Training", "Student", "Employee", "Civil Servant", "Self-Employed", "Pensioner")
employment <- socio_demographics %>%
sort_by(socio_demographics$employment) %>%
mutate(employment = factor(employment, labels = employment_labels)) %>%
group_by(employment) %>%
summarise(absolute_count = n()
) %>%
mutate(relative_share_percent= round(100 * absolute_count / sum(absolute_count), 2))
employment
