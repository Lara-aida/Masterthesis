result <- alpha(subset(df[, c("AC01_01", "AC01_02", "AC01_03")]))
result$total$raw_alpha
})
ac_alpha_values_avg <- mean(unlist(ac_alpha_values))
ac_alpha_values_avg
di_alpha_values <- lapply(df_for_alpha, function(df){
result <- alpha(subset(df[, c("DI01_01", "DI01_02", "DI01_03", "EX01_04")]))
result$total$raw_alpha
})
di_alpha_values_avg <- mean(unlist(di_alpha_values))
di_alpha_values_avg
ui_alpha_values <- lapply(df_for_alpha, function(df){
result <- alpha(subset(df[, c("UI01_01", "UI01_02")]), check.keys = TRUE)
result$total$raw_alpha
})
ui_alpha_values_avg <- mean(unlist(ui_alpha_values))
ui_alpha_values_avg
ex_alpha_values <- lapply(df_for_alpha, function(df){
result <- alpha(subset(df[, c("EX01_02", "EX01_03", "UI01_04")]))
result$total$raw_alpha
})
ex_alpha_values_avg <- mean(unlist(ex_alpha_values))
ex_alpha_values_avg
ordinal_CFA1_save <- save(ordinal_CFA1, file = "ordinal_CFA_storage/ordinal_CFA1.RData")
ordinal_CFA1_save <- save(ordinal_CFA1, file = "ordinal_CFA_storage/ordinal_CFA1.RData")
ordinal_CFA2_save <- save(ordinal_CFA2, file = "ordinal_CFA_storage/ordinal_CFA2.RData")
ordinal_CFA2_three_f_save <- save(ordinal_CFA2_three_f, file = "ordinal_CFA_storage/ordinal_CFA2_three_f.RData")
df_for_reliability <- lapply(list_of_rel_cols, function(df){
df %>%
mutate(
across(all_of(relevant_columns), as.numeric)
)
})
ac_alpha_values <- lapply(df_for_reliability, function(df){
result <- alpha(subset(df[, c("AC01_01", "AC01_02", "AC01_03")]))
result$total$raw_alpha
})
ac_alpha_values_avg <- mean(unlist(ac_alpha_values))
ac_alpha_values_avg
di_alpha_values <- lapply(df_for_reliability, function(df){
result <- alpha(subset(df[, c("DI01_01", "DI01_02", "DI01_03", "EX01_04")]))
result$total$raw_alpha
})
di_alpha_values_avg <- mean(unlist(di_alpha_values))
di_alpha_values_avg
ui_alpha_values <- lapply(df_for_reliability, function(df){
result <- alpha(subset(df[, c("UI01_01", "UI01_02")]), check.keys = TRUE)
result$total$raw_alpha
})
ui_alpha_values_avg <- mean(unlist(ui_alpha_values))
ui_alpha_values_avg
ex_alpha_values <- lapply(df_for_reliability, function(df){
result <- alpha(subset(df[, c("EX01_02", "EX01_03", "UI01_04")]))
result$total$raw_alpha
})
ex_alpha_values_avg <- mean(unlist(ex_alpha_values))
ex_alpha_values_avg
composite_rel <- compRelSEM(ordinal_CFA2)
composite_rel <- compRelSEM(ordinal_CFA2)
composite_rel <- compRelSEM(ordinal_CFA2)
class(ordinal_CFA2)
# very likely: "OLDlavaan.mi" "lavaan" ...
transparency <-
" accountability =~ AC01_01 + AC01_02 + AC01_03
disclosure =~ DI01_02 + DI01_03 + DI01_04 + EX01_04
usefulness =~ UI01_01 + UI01_02
explainability =~ EX01_02 + EX01_03 + UI01_04 "
ordinal_CFA2 <- lavaan.mi::cfa.mi(transparency, data=mids_rel_cols, estimator = "WLSMV", mimic = "MPlus", std.lv = TRUE, ordered = TRUE)
summary(ordinal_CFA2, standardized = TRUE, fit.measures = TRUE)
class(ordinal_CFA2)
# very likely: "OLDlavaan.mi" "lavaan" ...
relevant_columns <- c("AC01_01", "AC01_02", "AC01_03", "DI01_01", "DI01_02", "DI01_03", "DI01_04", "UI01_01", "UI01_02", "UI01_03", "UI01_04", "EX01_01", "EX01_02", "EX01_03", "EX01_04")
list_of_rel_cols <- lapply(complete(final_imputed_data, "all"), function(df) df[, relevant_columns])
getwd()
final_imputed_data <- read_rds("data/mi_mids_object.rds")
glimpse(final_imputed_data[1])
relevant_columns <- c("AC01_01", "AC01_02", "AC01_03", "DI01_01", "DI01_02", "DI01_03", "DI01_04", "UI01_01", "UI01_02", "UI01_03", "UI01_04", "EX01_01", "EX01_02", "EX01_03", "EX01_04")
list_of_rel_cols <- lapply(complete(final_imputed_data, "all"), function(df) df[, relevant_columns])
glimpse(list_of_rel_cols[1])
cor_list_rel_cols <- lapply(list_of_rel_cols, function(df) polychoric(df)$rho)
cor_list_rel_cols[1]
cor_list_rel_cols <- lapply(list_of_rel_cols, function(df) polychoric(df)$rho)
p_cor_pooled <- Reduce("+", cor_list_rel_cols) / length(cor_list_rel_cols)
dimnames(p_cor_pooled) <- list(
Rows=relevant_columns,
Cols=relevant_columns
)
corrplot(p_cor_pooled, method = 'circle', type = 'lower', insig='blank', addCoef.col ='black', number.cex = 0.9, tl.col = 'black', tl.cex = 0.9)
mids_rel_cols <- datlist2mids(list_of_rel_cols)
glimpse(mids_rel_cols)
mids_rel_cols <- datlist2mids(list_of_rel_cols)
glimpse(mids_rel_cols[1])
transparency <-
" accountability =~ AC01_01 + AC01_02 + AC01_03
disclosure =~ DI01_01 + DI01_02 + DI01_03 + DI01_04
usefulness =~ UI01_01 + UI01_02 + UI01_03 + UI01_04
explainability =~ EX01_01 + EX01_02 + EX01_03 + EX01_04 "
ordinal_CFA1 <- lavaan.mi::cfa.mi(transparency, data=mids_rel_cols, estimator = "WLSMV", mimic = "MPlus", std.lv = TRUE, ordered = TRUE)
summary(ordinal_CFA1, standardized = TRUE, fit.measures = TRUE)
# cor.bentler residuals, i.e., standardized ones - but $cov.z is needed to show the standardized matrix
res_va_cov <- lavResiduals.mi(ordinal_CFA1, zstat = TRUE)
z_res_va_cov <- lavResiduals.mi(ordinal_CFA1, zstat = TRUE)$cov.z
# raw covariance residuals
#lavResiduals.mi(ordinal_CFA1, type = "raw", zstat = FALSE)$cov
corrplot(res_va_cov$cov, method = 'circle', type = 'lower', insig='blank', addCoef.col ='black', number.cex = 0.9, tl.col = 'black', tl.cex = 0.9)
z_res_va_cov
mod_ind <- modificationIndices.mi(ordinal_CFA1, standardized = TRUE, cov.std = TRUE, sort. = TRUE, minimum.value = "4")
mod_ind
view(mod_ind)
mod_ind <- modificationIndices.mi(ordinal_CFA1, standardized = TRUE, cov.std = TRUE, sort. = TRUE, minimum.value = "4")
mod_ind
est <- parameterEstimates.mi(ordinal_CFA1, zstat = TRUE)
est
transparency <-
" accountability =~ AC01_01 + AC01_02 + AC01_03
disclosure =~ DI01_02 + DI01_03 + DI01_04 + EX01_04
usefulness =~ UI01_01 + UI01_02
explainability =~ EX01_02 + EX01_03 + UI01_04 "
ordinal_CFA2 <- lavaan.mi::cfa.mi(transparency, data=mids_rel_cols, estimator = "WLSMV", mimic = "MPlus", std.lv = TRUE, ordered = TRUE)
packageVersion("semTools")
transparency <-
" accountability =~ AC01_01 + AC01_02 + AC01_03
disclosure =~ DI01_02 + DI01_03 + DI01_04 + EX01_04
usefulness =~ UI01_01 + UI01_02
explainability =~ EX01_02 + EX01_03 + UI01_04 "
ordinal_CFA2_mi <- lavaan.mi::cfa.mi(transparency, data=mids_rel_cols, estimator = "WLSMV", mimic = "MPlus", std.lv = TRUE, ordered = TRUE)
summary(ordinal_CFA2_mi, standardized = TRUE, fit.measures = TRUE)
class(ordinal_CFA2_mi)
# very likely: "OLDlavaan.mi" "lavaan" ...
transparency <-
" accountabilityXusefulness =~ AC01_01 + AC01_02 + AC01_03 + UI01_01 + UI01_02
disclosure =~ DI01_02 + DI01_03 + DI01_04 + EX01_04
explainability =~ EX01_02 + EX01_03 + UI01_04 "
ordinal_CFA2_three_f <- lavaan.mi::cfa.mi(transparency, data=mids_rel_cols, estimator = "WLSMV", mimic = "MPlus", std.lv = TRUE, ordered = TRUE)
model_compare <- lavaan.mi::lavTestLRT.mi(ordinal_CFA2, ordinal_CFA2_three_f, pool.method = c("D2"), asymptotic = TRUE)
model_compare
class(ordinal_CFA2)
# very likely: "OLDlavaan.mi" "lavaan" ...
packageVersion("semTools")
library(tidyverse)
library(broom)
library(ggplot2)
library(dplyr)
library(finalfit)
library(mice)
library(miceadds)
library(MASS)
library(lavaan)
library(lavaan.mi)
library(semptools)
library(semTools)
library(psych)
library(corrplot)
packageVersion("semTools")
renv::install("semTools@0.5-7")
library(tidyverse)
library(broom)
library(ggplot2)
library(dplyr)
library(finalfit)
library(mice)
library(miceadds)
library(MASS)
library(lavaan)
library(lavaan.mi)
library(semptools)
library(semTools)
library(psych)
library(corrplot)
packageVersion("semTools")
getwd()
final_imputed_data <- read_rds("data/mi_mids_object.rds")
glimpse(final_imputed_data[1])
relevant_columns <- c("AC01_01", "AC01_02", "AC01_03", "DI01_01", "DI01_02", "DI01_03", "DI01_04", "UI01_01", "UI01_02", "UI01_03", "UI01_04", "EX01_01", "EX01_02", "EX01_03", "EX01_04")
list_of_rel_cols <- lapply(complete(final_imputed_data, "all"), function(df) df[, relevant_columns])
glimpse(list_of_rel_cols[1])
cor_list_rel_cols <- lapply(list_of_rel_cols, function(df) polychoric(df)$rho)
p_cor_pooled <- Reduce("+", cor_list_rel_cols) / length(cor_list_rel_cols)
dimnames(p_cor_pooled) <- list(
Rows=relevant_columns,
Cols=relevant_columns
)
corrplot(p_cor_pooled, method = 'circle', type = 'lower', insig='blank', addCoef.col ='black', number.cex = 0.9, tl.col = 'black', tl.cex = 0.9)
transparency <-
" accountability =~ AC01_01 + AC01_02 + AC01_03
disclosure =~ DI01_01 + DI01_02 + DI01_03 + DI01_04
usefulness =~ UI01_01 + UI01_02 + UI01_03 + UI01_04
explainability =~ EX01_01 + EX01_02 + EX01_03 + EX01_04 "
ordinal_CFA1 <- lavaan.mi::cfa.mi(transparency, data=mids_rel_cols, estimator = "WLSMV", mimic = "MPlus", std.lv = TRUE, ordered = TRUE)
summary(ordinal_CFA1, standardized = TRUE, fit.measures = TRUE)
# cor.bentler residuals, i.e., standardized ones - but $cov.z is needed to show the standardized matrix
res_va_cov <- lavResiduals.mi(ordinal_CFA1, zstat = TRUE)
summary(ordinal_CFA1, standardized = TRUE, fit.measures = "all")
#summary(ordinal_CFA1, standardized = TRUE, fit.measures = "all")
summary(ordinal_CFA1, standardized = TRUE, fit.measures = TRUE)
renv::install("semTools@0.5-6")
packageVersion("semTools")
library(tidyverse)
library(broom)
library(ggplot2)
library(dplyr)
library(finalfit)
library(mice)
library(miceadds)
library(MASS)
library(lavaan)
library(lavaan.mi)
library(semptools)
library(semTools)
library(psych)
library(corrplot)
getwd()
final_imputed_data <- read_rds("data/mi_mids_object.rds")
glimpse(final_imputed_data[1])
relevant_columns <- c("AC01_01", "AC01_02", "AC01_03", "DI01_01", "DI01_02", "DI01_03", "DI01_04", "UI01_01", "UI01_02", "UI01_03", "UI01_04", "EX01_01", "EX01_02", "EX01_03", "EX01_04")
list_of_rel_cols <- lapply(complete(final_imputed_data, "all"), function(df) df[, relevant_columns])
glimpse(list_of_rel_cols[1])
cor_list_rel_cols <- lapply(list_of_rel_cols, function(df) polychoric(df)$rho)
p_cor_pooled <- Reduce("+", cor_list_rel_cols) / length(cor_list_rel_cols)
dimnames(p_cor_pooled) <- list(
Rows=relevant_columns,
Cols=relevant_columns
)
corrplot(p_cor_pooled, method = 'circle', type = 'lower', insig='blank', addCoef.col ='black', number.cex = 0.9, tl.col = 'black', tl.cex = 0.9)
p_cor_pooled <- Reduce("+", cor_list_rel_cols) / length(cor_list_rel_cols)
dimnames(p_cor_pooled) <- list(
Rows=relevant_columns,
Cols=relevant_columns
)
corrplot(p_cor_pooled, method = 'circle', type = 'lower', insig='blank', addCoef.col ='black', number.cex = 0.9, tl.col = 'black', tl.cex = 0.9)
transparency <-
" accountability =~ AC01_01 + AC01_02 + AC01_03
disclosure =~ DI01_01 + DI01_02 + DI01_03 + DI01_04
usefulness =~ UI01_01 + UI01_02 + UI01_03 + UI01_04
explainability =~ EX01_01 + EX01_02 + EX01_03 + EX01_04 "
ordinal_CFA1 <- lavaan.mi::cfa.mi(transparency, data=mids_rel_cols, estimator = "WLSMV", mimic = "MPlus", std.lv = TRUE, ordered = TRUE)
summary(ordinal_CFA1, standardized = TRUE, fit.measures = TRUE)
summary(ordinal_CFA1, standardized = TRUE, fit.measures = TRUE, fmi = TRUE, rsquare = TRUE)
summary(ordinal_CFA1, standardized = TRUE, fit.measures = TRUE, fmi = TRUE, rsquare = TRUE)
summary(ordinal_CFA1, standardized = TRUE, fit.measures = TRUE, fmi = TRUE, rsquare = TRUE)
summary(ordinal_CFA1, standardized = TRUE, fitMeasures = "all", fmi = TRUE, rsquare = TRUE)
#summary(ordinal_CFA1, standardized = TRUE, fitMeasures = TRUE)
fitMeasures(ordinal_CFA1, fit.measures = "all")
#summary(ordinal_CFA1, standardized = TRUE, fitMeasures = TRUE)
summary(fitMeasures(ordinal_CFA1, fit.measures = "all"))
#summary(ordinal_CFA1, standardized = TRUE, fitMeasures = TRUE)
fitMeasures(ordinal_CFA1, fit.measures = "all")
est <- parameterEstimates.mi(ordinal_CFA1, zstat = TRUE)
est
mod_ind <- modificationIndices.mi(ordinal_CFA1, standardized = TRUE, cov.std = TRUE, sort. = TRUE, minimum.value = "4")
mod_ind
# cor.bentler residuals, i.e., standardized ones - but $cov.z is needed to show the standardized matrix
res_va_cov <- lavResiduals.mi(ordinal_CFA1, zstat = TRUE)
z_res_va_cov <- lavResiduals.mi(ordinal_CFA1, zstat = TRUE)$cov.z
# raw covariance residuals
#lavResiduals.mi(ordinal_CFA1, type = "raw", zstat = FALSE)$cov
corrplot(res_va_cov$cov, method = 'circle', type = 'lower', insig='blank', addCoef.col ='black', number.cex = 0.9, tl.col = 'black', tl.cex = 0.9)
z_res_va_cov
#summary(ordinal_CFA1, standardized = TRUE, fitMeasures = TRUE)
fitMeasures(ordinal_CFA1, fit.measures = c(
"chisq.scaled", "df.scaled", "pvalue.scaled",
"baseline.chisq.scaled", "baseline.df", "baseline.pvalue.scaled",
"srmr",
"rmsea.robust", "rmsea.ci.lower.robust", "rmsea.ci.upper.robust",
"cfi.robust", "tli.robust"))
transparency <-
" accountability =~ AC01_01 + AC01_02 + AC01_03
disclosure =~ DI01_01 + DI01_02 + DI01_03 + DI01_04
usefulness =~ UI01_01 + UI01_02 + UI01_03 + UI01_04
explainability =~ EX01_01 + EX01_02 + EX01_03 + EX01_04 "
ordinal_CFA1 <- lavaan.mi::cfa.mi(transparency, data=mids_rel_cols, estimator = "WLSMV", mimic = "MPlus", std.lv = TRUE, ordered = TRUE)
ordinal_CFA1b <- cfa.mi(transparency, data=mids_rel_cols, estimator = "WLSMV", mimic = "MPlus", std.lv = TRUE, ordered = TRUE)
summary(ordinal_CFA1b, standardized = TRUE, fit.measures = TRUE)
transparency <-
" accountability =~ AC01_01 + AC01_02 + AC01_03
disclosure =~ DI01_01 + DI01_02 + DI01_03 + DI01_04
usefulness =~ UI01_01 + UI01_02 + UI01_03 + UI01_04
explainability =~ EX01_01 + EX01_02 + EX01_03 + EX01_04 "
ordinal_CFA1 <- lavaan.mi::cfa.mi(transparency, data=mids_rel_cols, estimator = "WLSMV", mimic = "MPlus", std.lv = TRUE, ordered = TRUE)
ordinal_CFA1b <- semTools::cfa.mi(transparency, data=mids_rel_cols, estimator = "WLSMV", mimic = "MPlus", std.lv = TRUE, ordered = TRUE)
transparency <-
" accountability =~ AC01_01 + AC01_02 + AC01_03
disclosure =~ DI01_01 + DI01_02 + DI01_03 + DI01_04
usefulness =~ UI01_01 + UI01_02 + UI01_03 + UI01_04
explainability =~ EX01_01 + EX01_02 + EX01_03 + EX01_04 "
ordinal_CFA1 <- lavaan.mi::cfa.mi(transparency, data=mids_rel_cols, estimator = "WLSMV", mimic = "MPlus", std.lv = TRUE, ordered = TRUE)
ordinal_CFA1b <- cfa.mi(transparency, data=mids_rel_cols, estimator = "WLSMV", mimic = "MPlus", std.lv = TRUE, ordered = TRUE)
transparency <-
" accountability =~ AC01_01 + AC01_02 + AC01_03
disclosure =~ DI01_01 + DI01_02 + DI01_03 + DI01_04
usefulness =~ UI01_01 + UI01_02 + UI01_03 + UI01_04
explainability =~ EX01_01 + EX01_02 + EX01_03 + EX01_04 "
ordinal_CFA1 <- lavaan.mi::cfa.mi(transparency, data=mids_rel_cols, estimator = "WLSMV", mimic = "MPlus", std.lv = TRUE, ordered = TRUE)
summary(ordinal_CFA1, standardized = TRUE, fit.measures = TRUE)
fitMeasures(ordinal_CFA1, fit.measures = c(
"chisq.scaled", "df.scaled", "pvalue.scaled",
"baseline.chisq.scaled", "baseline.df", "baseline.pvalue.scaled",
"srmr",
"rmsea.robust", "rmsea.ci.lower.robust", "rmsea.ci.upper.robust",
"cfi.robust", "tli.robust"))
summary(ordinal_CFA1, fit.measures = TRUE, fmi = TRUE)
fitMeasures(ordinal_CFA1, fit.measures = c(
"chisq.scaled", "df.scaled", "pvalue.scaled",
"baseline.chisq.scaled", "baseline.df", "baseline.pvalue.scaled",
"srmr",
"rmsea.robust", "rmsea.ci.lower.robust", "rmsea.ci.upper.robust",
"cfi.robust", "tli.robust"))
summary(ordinal_CFA1, fit.measures = TRUE, fmi = TRUE)
fitMeasures(ordinal_CFA1, fit.measures = c(
"chisq.scaled", "df", "df.scaled", "pvalue.scaled",
"baseline.chisq.scaled", "baseline.df", "baseline.df.scaled", "baseline.pvalue.scaled",
"srmr",
"rmsea.robust", "rmsea.ci.lower.robust", "rmsea.ci.upper.robust",
"cfi.robust", "tli.robust"))
summary(ordinal_CFA1, fit.measures = TRUE, fmi = TRUE)
#fitMeasures(ordinal_CFA1, fit.measures = c("chisq.scaled", "df", "df.scaled", "pvalue.scaled", "baseline.chisq.scaled", "baseline.df", "baseline.df.scaled", "baseline.pvalue.scaled", "srmr", "rmsea.robust", "rmsea.ci.lower.robust", "rmsea.ci.upper.robust", "cfi.robust", "tli.robust"))
fitMeasures(ordinal_CFA1, fit.measures = "all")
#summary(ordinal_CFA1, fit.measures = TRUE, fmi = TRUE)
fitMeasures(ordinal_CFA1, fit.measures = c("chisq.scaling.factor", "chisq.scaled", "df", "df.scaled", "pvalue.scaled", "baseline.chisq.scaled", "baseline.df", "baseline.df.scaled", "baseline.pvalue.scaled", "srmr", "rmsea.robust", "rmsea.ci.lower.robust", "rmsea.ci.upper.robust", "rmsea.ci.level", "cfi.robust", "tli.robust"))
#fitMeasures(ordinal_CFA1, fit.measures = "all")
#summary(ordinal_CFA1, fit.measures = TRUE, fmi = TRUE)
fitMeasures(ordinal_CFA1, pool.method = "D2", fit.measures = c("chisq.scaling.factor", "chisq.scaled", "df", "df.scaled", "pvalue.scaled", "baseline.chisq.scaled", "baseline.df", "baseline.df.scaled", "baseline.pvalue.scaled", "srmr", "rmsea.robust", "rmsea.ci.lower.robust", "rmsea.ci.upper.robust", "rmsea.ci.level", "cfi.robust", "tli.robust"))
#fitMeasures(ordinal_CFA1, fit.measures = "all")
#summary(ordinal_CFA1, fit.measures = TRUE, fmi = TRUE)
as.data.frame(fitMeasures(ordinal_CFA1, pool.method = "D2", fit.measures = c("chisq.scaling.factor", "chisq.scaled", "df", "df.scaled", "pvalue.scaled", "baseline.chisq.scaled", "baseline.df", "baseline.df.scaled", "baseline.pvalue.scaled", "srmr", "rmsea.robust", "rmsea.ci.lower.robust", "rmsea.ci.upper.robust", "rmsea.ci.level", "cfi.robust", "tli.robust")))
#fitMeasures(ordinal_CFA1, fit.measures = "all")
#summary(ordinal_CFA1, fit.measures = TRUE, fmi = TRUE)
fitMeasures(ordinal_CFA1, pool.method = "D2", fit.measures = c("chisq.scaling.factor", "chisq.scaled", "df", "df.scaled", "pvalue.scaled", "baseline.chisq.scaled", "baseline.df", "baseline.df.scaled", "baseline.pvalue.scaled", "srmr", "rmsea.robust", "rmsea.ci.lower.robust", "rmsea.ci.upper.robust", "rmsea.ci.level", "cfi.robust", "tli.robust"))
#fitMeasures(ordinal_CFA1, fit.measures = "all")
#summary(ordinal_CFA1, fit.measures = TRUE, fmi = TRUE)
as.data.frame(t(fitMeasures(ordinal_CFA1, pool.method = "D2", fit.measures = c("chisq.scaling.factor", "chisq.scaled", "df", "df.scaled", "pvalue.scaled", "baseline.chisq.scaled", "baseline.df", "baseline.df.scaled", "baseline.pvalue.scaled", "srmr", "rmsea.robust", "rmsea.ci.lower.robust", "rmsea.ci.upper.robust", "rmsea.ci.level", "cfi.robust", "tli.robust"))))
#summary(ordinal_CFA1, fit.measures = TRUE, fmi = TRUE)
df_fit_measures_ordinal_CFA1 <- as.data.frame(t(fitMeasures(ordinal_CFA1, pool.method = "D2", fit.measures = c("chisq.scaling.factor", "chisq.scaled", "df", "df.scaled", "pvalue.scaled", "baseline.chisq.scaled", "baseline.df", "baseline.df.scaled", "baseline.pvalue.scaled", "srmr", "rmsea.robust", "rmsea.ci.lower.robust", "rmsea.ci.upper.robust", "rmsea.ci.level", "cfi.robust", "tli.robust"))))
#fitMeasures(ordinal_CFA1, fit.measures = "all")
#summary(ordinal_CFA1, fit.measures = TRUE, fmi = TRUE)
df_fit_measures_ordinal_CFA1 <- as.data.frame(t(fitMeasures(ordinal_CFA1, pool.method = "D2", fit.measures = c("chisq.scaling.factor", "chisq.scaled", "df", "df.scaled", "pvalue.scaled", "baseline.chisq.scaled", "baseline.df", "baseline.df.scaled", "baseline.pvalue.scaled", "srmr", "rmsea.robust", "rmsea.ci.lower.robust", "rmsea.ci.upper.robust", "rmsea.ci.level", "cfi.robust", "tli.robust"))))
row.names(df_fit_measures_ordinal_CFA1) <- "ordinal_CFA1"
#summary(ordinal_CFA1, fit.measures = TRUE, fmi = TRUE)
df_fit_measures_ordinal_CFA1 <- as.data.frame(fitMeasures(ordinal_CFA1, pool.method = "D2", fit.measures = c("chisq.scaling.factor", "chisq.scaled", "df", "df.scaled", "pvalue.scaled", "baseline.chisq.scaled", "baseline.df", "baseline.df.scaled", "baseline.pvalue.scaled", "srmr", "rmsea.robust", "rmsea.ci.lower.robust", "rmsea.ci.upper.robust", "rmsea.ci.level", "cfi.robust", "tli.robust")))
row.names(df_fit_measures_ordinal_CFA1) <- "ordinal_CFA1"
#summary(ordinal_CFA1, fit.measures = TRUE, fmi = TRUE)
fit_measures_ordinal_CFA1 <- fitMeasures(ordinal_CFA1, pool.method = "D2", fit.measures = c("chisq.scaling.factor", "chisq.scaled", "df", "df.scaled", "pvalue.scaled", "baseline.chisq.scaled", "baseline.df", "baseline.df.scaled", "baseline.pvalue.scaled", "srmr", "rmsea.robust", "rmsea.ci.lower.robust", "rmsea.ci.upper.robust", "rmsea.ci.level", "cfi.robust", "tli.robust"))
#df_fit_measures_ordinal_CFA1 <- as.data.frame()
#row.names(df_fit_measures_ordinal_CFA1) <- "ordinal_CFA1"
#df_fit_measures_ordinal_CFA1
fit_measures_ordinal_CFA1
fit_measures_ordinal_CFA1 <- fitMeasures(ordinal_CFA1, pool.method = "D2", fit.measures = c("chisq.scaling.factor", "chisq.scaled", "df", "df.scaled", "pvalue.scaled", "baseline.chisq.scaled", "baseline.df", "baseline.df.scaled", "baseline.pvalue.scaled", "srmr", "rmsea.robust", "rmsea.ci.lower.robust", "rmsea.ci.upper.robust", "rmsea.ci.level", "cfi.robust", "tli.robust"))
df_fit_measures_ordinal_CFA1 <- as.data.frame(fit_measures_ordinal_CFA1)
#row.names(df_fit_measures_ordinal_CFA1) <- "ordinal_CFA1"
#df_fit_measures_ordinal_CFA1
fit_measures_ordinal_CFA1
fit_measures_ordinal_CFA1 <- fitMeasures(ordinal_CFA1, pool.method = "D2", fit.measures = c("chisq.scaling.factor", "chisq.scaled", "df", "df.scaled", "pvalue.scaled", "baseline.chisq.scaled", "baseline.df", "baseline.df.scaled", "baseline.pvalue.scaled", "srmr", "rmsea.robust", "rmsea.ci.lower.robust", "rmsea.ci.upper.robust", "rmsea.ci.level", "cfi.robust", "tli.robust"))
df_fit_measures_ordinal_CFA1 <- as.data.frame(fit_measures_ordinal_CFA1)
#row.names(df_fit_measures_ordinal_CFA1) <- "ordinal_CFA1"
#df_fit_measures_ordinal_CFA1
df_fit_measures_ordinal_CFA1
fit_measures_ordinal_CFA1 <- fitMeasures(ordinal_CFA1, pool.method = "D2", fit.measures = c("chisq.scaling.factor", "chisq.scaled", "df", "df.scaled", "pvalue.scaled", "baseline.chisq.scaled", "baseline.df", "baseline.df.scaled", "baseline.pvalue.scaled", "srmr", "rmsea.robust", "rmsea.ci.lower.robust", "rmsea.ci.upper.robust", "rmsea.ci.level", "cfi.robust", "tli.robust"))
df_fit_measures_ordinal_CFA1 <- as.data.frame(t(fit_measures_ordinal_CFA1))
#row.names(df_fit_measures_ordinal_CFA1) <- "ordinal_CFA1"
#df_fit_measures_ordinal_CFA1
df_fit_measures_ordinal_CFA1
fit_measures_ordinal_CFA1 <- fitMeasures(ordinal_CFA1, pool.method = "D2", fit.measures = c("chisq.scaling.factor", "chisq.scaled", "df", "df.scaled", "pvalue.scaled", "baseline.chisq.scaled", "baseline.df", "baseline.df.scaled", "baseline.pvalue.scaled", "srmr", "rmsea.robust", "rmsea.ci.lower.robust", "rmsea.ci.upper.robust", "rmsea.ci.level", "cfi.robust", "tli.robust"))
df_fit_measures_ordinal_CFA1 <- as.data.frame(fit_measures_ordinal_CFA1)
#row.names(df_fit_measures_ordinal_CFA1) <- "ordinal_CFA1"
#df_fit_measures_ordinal_CFA1
df_fit_measures_ordinal_CFA1
# cor.bentler residuals, i.e., standardized ones - but $cov.z is needed to show the standardized matrix
res_va_cov <- lavResiduals.mi(ordinal_CFA1, zstat = TRUE)
z_res_va_cov <- lavResiduals.mi(ordinal_CFA1, zstat = TRUE)$cov.z
# raw covariance residuals
#lavResiduals.mi(ordinal_CFA1, type = "raw", zstat = FALSE)$cov
corrplot(res_va_cov$cov, method = 'circle', type = 'lower', insig='blank', addCoef.col ='black', number.cex = 0.9, tl.col = 'black', tl.cex = 0.9)
z_res_va_cov
mod_ind <- modificationIndices.mi(ordinal_CFA1, standardized = TRUE, cov.std = TRUE, sort. = TRUE, minimum.value = "4")
mod_ind
est <- parameterEstimates.mi(ordinal_CFA1, zstat = TRUE)
est
cov_ordinalCFA1 <- lavInspect(ordinal_CFA1, "cov.lv")
cov_ordinalCFA1 <- lavInspect.mi(ordinal_CFA1, "cov.lv")
cov_ordinalCFA1 <- lavaan::lavInspect(ordinal_CFA1, "cov.lv")
cov_ordinalCFA1 <- lavInspect(ordinal_CFA1, "est")
cov_ordinalCFA1 <- lavInspect(ordinal_CFA1, "cov.lv")
cov_ordinalCFA1 <- lavInspect(ordinal_CFA1, "sampstat")
cov_ordinalCFA1 <- standardizedSolution.mi(
ordinal_CFA1,
return.vcov = TRUE,
omit.imps = c("no.conv", "no.se")
)
cov_ordinalCFA1 <- standardizedSolution.mi(
ordinal_CFA1,
return.vcov = TRUE,
omit.imps = c("no.conv", "no.se")
)
cov_ordinalCFA1
cov_ordinalCFA1 <- standardizedSolution.mi(
ordinal_CFA1,
return.vcov = FALSE,
)
cov_ordinalCFA1
fit_measures_ordinal_CFA1 <- fitMeasures(ordinal_CFA1, pool.method = "D2", fit.measures = c("chisq.scaling.factor", "chisq.scaled", "df", "df.scaled", "pvalue.scaled", "baseline.chisq.scaled", "baseline.df", "baseline.df.scaled", "baseline.pvalue.scaled", "srmr", "rmsea.robust", "rmsea.ci.lower.robust", "rmsea.ci.upper.robust", "rmsea.ci.level", "cfi.robust", "tli.robust"))
df_fit_measures_ordinal_CFA1 <- as.data.frame(fit_measures_ordinal_CFA1)
df_fit_measures_ordinal_CFA1
summary(ordinal_CFA1, standardized = TRUE, fit.measures = TRUE)
fit_measures_ordinal_CFA1 <- fitMeasures(ordinal_CFA1, pool.method = "D2", fit.measures = c("chisq.scaling.factor", "chisq.scaled", "df", "df.scaled", "pvalue.scaled", "baseline.chisq.scaled", "baseline.df", "baseline.df.scaled", "baseline.pvalue.scaled", "srmr", "rmsea.robust", "rmsea.ci.lower.robust", "rmsea.ci.upper.robust", "rmsea.ci.level", "cfi.robust", "tli.robust"))
df_fit_measures_ordinal_CFA1 <- as.data.frame(fit_measures_ordinal_CFA1)
df_fit_measures_ordinal_CFA1
summary(ordinal_CFA1, standardized = TRUE, fit.measures = TRUE)$cov
fit_measures_ordinal_CFA1 <- fitMeasures(ordinal_CFA1, pool.method = "D2", fit.measures = c("chisq.scaling.factor", "chisq.scaled", "df", "df.scaled", "pvalue.scaled", "baseline.chisq.scaled", "baseline.df", "baseline.df.scaled", "baseline.pvalue.scaled", "srmr", "rmsea.robust", "rmsea.ci.lower.robust", "rmsea.ci.upper.robust", "rmsea.ci.level", "cfi.robust", "tli.robust"))
df_fit_measures_ordinal_CFA1 <- as.data.frame(fit_measures_ordinal_CFA1)
df_fit_measures_ordinal_CFA1
summary(ordinal_CFA1, standardized = TRUE, fit.measures = TRUE)
# cor.bentler residuals, i.e., standardized ones - but $cov.z is needed to show the standardized matrix
res_va_cov <- lavResiduals.mi(ordinal_CFA1, zstat = TRUE)
z_res_va_cov <- lavResiduals.mi(ordinal_CFA1, zstat = TRUE)$cov.z
# raw covariance residuals
#lavResiduals.mi(ordinal_CFA1, type = "raw", zstat = FALSE)$cov
corrplot(res_va_cov$cov, method = 'circle', type = 'lower', insig='blank', addCoef.col ='black', number.cex = 0.9, tl.col = 'black', tl.cex = 0.9)
z_res_va_cov
mod_ind <- modificationIndices.mi(ordinal_CFA1, standardized = TRUE, cov.std = TRUE, sort. = TRUE, minimum.value = "4")
mod_ind
summary(ordinal_CFA1, standardized = TRUE, fit.measures = TRUE)
fit_measures_ordinal_CFA1 <- fitMeasures(ordinal_CFA1, pool.method = "D2", fit.measures = c("chisq.scaling.factor", "chisq.scaled", "df", "df.scaled", "pvalue.scaled", "baseline.chisq.scaled", "baseline.df", "baseline.df.scaled", "baseline.pvalue.scaled", "srmr", "rmsea.robust", "rmsea.ci.lower.robust", "rmsea.ci.upper.robust", "rmsea.ci.level", "cfi.robust", "tli.robust"))
df_fit_measures_ordinal_CFA1 <- as.data.frame(fit_measures_ordinal_CFA1)
df_fit_measures_ordinal_CFA1
corrplot(res_va_cov$cov, method = 'circle', type = 'lower', insig='blank', addCoef.col ='black', number.cex = 0.9, tl.col = 'black', tl.cex = 0.9)
mod_ind <- modificationIndices.mi(ordinal_CFA1, standardized = TRUE, cov.std = TRUE, sort. = TRUE, minimum.value = "4")
mod_ind
est <- parameterEstimates.mi(ordinal_CFA1, zstat = TRUE)
est
transparency <-
" accountability =~ AC01_01 + AC01_02 + AC01_03
disclosure =~ DI01_02 + DI01_03 + DI01_04 + EX01_04
usefulness =~ UI01_01 + UI01_02
explainability =~ EX01_02 + EX01_03 + UI01_04 "
ordinal_CFA2_mi <- lavaan.mi::cfa.mi(transparency, data=mids_rel_cols, estimator = "WLSMV", mimic = "MPlus", std.lv = TRUE, ordered = TRUE)
transparency <-
" accountability =~ AC01_01 + AC01_02 + AC01_03
disclosure =~ DI01_02 + DI01_03 + DI01_04 + EX01_04
usefulness =~ UI01_01 + UI01_02
explainability =~ EX01_02 + EX01_03 + UI01_04 "
ordinal_CFA2 <- lavaan.mi::cfa.mi(transparency, data=mids_rel_cols, estimator = "WLSMV", mimic = "MPlus", std.lv = TRUE, ordered = TRUE)
summary(ordinal_CFA2, standardized = TRUE, fit.measures = TRUE)
fit_measures_ordinal_CFA1 <- fitMeasures(ordinal_CFA1, pool.method = "D2", fit.measures = c("chisq.scaling.factor", "chisq.scaled", "df", "df.scaled", "pvalue.scaled", "baseline.chisq.scaled", "baseline.df", "baseline.df.scaled", "baseline.pvalue.scaled", "srmr", "rmsea.robust", "rmsea.ci.lower.robust", "rmsea.ci.upper.robust", "rmsea.ci.level", "cfi.robust", "tli.robust"))
df_fit_measures_ordinal_CFA1 <- as.data.frame(fit_measures_ordinal_CFA1)
df_fit_measures_ordinal_CFA1
fit_measures_ordinal_CFA1 <- fitMeasures(ordinal_CFA1, pool.method = "D2", fit.measures = c("chisq.scaling.factor", "chisq.scaled", "df", "df.scaled", "pvalue.scaled", "baseline.chisq.scaled", "baseline.df", "baseline.df.scaled", "baseline.pvalue.scaled", "srmr", "rmsea.robust", "rmsea.ci.lower.robust", "rmsea.ci.upper.robust", "rmsea.ci.level", "cfi.robust", "tli.robust"))
df_fit_measures_ordinal_CFA1 <- as.data.frame(round(fit_measures_ordinal_CFA1, 4)
df_fit_measures_ordinal_CFA1
fit_measures_ordinal_CFA1 <- fitMeasures(ordinal_CFA1, pool.method = "D2", fit.measures = c("chisq.scaling.factor", "chisq.scaled", "df", "df.scaled", "pvalue.scaled", "baseline.chisq.scaled", "baseline.df", "baseline.df.scaled", "baseline.pvalue.scaled", "srmr", "rmsea.robust", "rmsea.ci.lower.robust", "rmsea.ci.upper.robust", "rmsea.ci.level", "cfi.robust", "tli.robust"))
df_fit_measures_ordinal_CFA1 <- as.data.frame(round(fit_measures_ordinal_CFA1, 4))
df_fit_measures_ordinal_CFA1
fit_measures_ordinal_CFA1 <- fitMeasures(ordinal_CFA1, pool.method = "D2", fit.measures = c("chisq.scaling.factor", "chisq.scaled", "df", "df.scaled", "pvalue.scaled", "baseline.chisq.scaled", "baseline.df", "baseline.df.scaled", "baseline.pvalue.scaled", "srmr", "rmsea.robust", "rmsea.ci.lower.robust", "rmsea.ci.upper.robust", "rmsea.ci.level", "cfi.robust", "tli.robust"))
df_fit_measures_ordinal_CFA1 <- as.data.frame(round(fit_measures_ordinal_CFA1, 4))
df_fit_measures_ordinal_CFA1
# cor.bentler residuals, i.e., standardized ones - but $cov.z is needed to show the standardized matrix
res_va_cov_refit <- lavResiduals.mi(ordinal_CFA2, zstat = TRUE)
z_res_va_cov_refit <- lavResiduals.mi(ordinal_CFA2, zstat = TRUE)$cov.z
# raw covariance residuals
#lavResiduals.mi(ordinal_CFA2, type = "raw", zstat = FALSE)$cov
z_res_va_cov_refit
mod_ind_refit <- modificationIndices.mi(ordinal_CFA2, pool.method = c("D2"), standardized = TRUE, cov.std = TRUE, sort. = TRUE, minimum.value = "4")
mod_ind_refit <- modificationIndices.mi(ordinal_CFA2, standardized = TRUE, cov.std = TRUE, sort. = TRUE, minimum.value = "4")
mod_ind_refit
est_refit <- parameterEstimates.mi(ordinal_CFA2, zstat = TRUE)
est_refit
transparency <-
" accountabilityXusefulness =~ AC01_01 + AC01_02 + AC01_03 + UI01_01 + UI01_02
disclosure =~ DI01_02 + DI01_03 + DI01_04 + EX01_04
explainability =~ EX01_02 + EX01_03 + UI01_04 "
ordinal_CFA2_three_f <- lavaan.mi::cfa.mi(transparency, data=mids_rel_cols, estimator = "WLSMV", mimic = "MPlus", std.lv = TRUE, ordered = TRUE)
model_compare <- lavaan.mi::lavTestLRT.mi(ordinal_CFA2, ordinal_CFA2_three_f, pool.method = c("D2"), asymptotic = TRUE)
model_compare
df_for_reliability <- lapply(list_of_rel_cols, function(df){
df %>%
mutate(
across(all_of(relevant_columns), as.numeric)
)
})
ac_alpha_values <- lapply(df_for_reliability, function(df){
result <- alpha(subset(df[, c("AC01_01", "AC01_02", "AC01_03")]))
result$total$raw_alpha
})
ac_alpha_values_avg <- mean(unlist(ac_alpha_values))
ac_alpha_values_avg
di_alpha_values <- lapply(df_for_reliability, function(df){
result <- alpha(subset(df[, c("DI01_01", "DI01_02", "DI01_03", "EX01_04")]))
result$total$raw_alpha
})
di_alpha_values_avg <- mean(unlist(di_alpha_values))
di_alpha_values_avg
ui_alpha_values <- lapply(df_for_reliability, function(df){
result <- alpha(subset(df[, c("UI01_01", "UI01_02")]), check.keys = TRUE)
result$total$raw_alpha
})
ui_alpha_values_avg <- mean(unlist(ui_alpha_values))
ui_alpha_values_avg
ex_alpha_values <- lapply(df_for_reliability, function(df){
result <- alpha(subset(df[, c("EX01_02", "EX01_03", "UI01_04")]))
result$total$raw_alpha
})
ex_alpha_values_avg <- mean(unlist(ex_alpha_values))
ex_alpha_values_avg
compRelSEM(ordinal_CFA1)
class(ordinal_CFA1)
class(ordinal_CFA1)
omega_tab <- compRelSEM(ordinal_CFA1,
tau.eq    = FALSE,
ord.scale = TRUE)
omega <- compRelSEM(ordinal_CFA1, tau.eq    = FALSE, ord.scale = TRUE)
omega <- compRelSEM(ordinal_CFA1, tau.eq = FALSE, ord.scale = TRUE)
packageVersion("semTools")
renv::install("semTools@0.5-7")
